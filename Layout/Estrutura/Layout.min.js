function applyColorScheme(e) { const t = document.querySelector('meta[name="color-scheme"]'); t && t.setAttribute("content", e ? "dark" : "light"), document.documentElement.style.colorScheme = e ? "dark" : "light" } function ensureLgpdPrefix() { if (window.LGPDCOOKIES && !LGPDCOOKIES.lgpdPrefix) { const e = document.getElementById("lgpd-key"); e && (LGPDCOOKIES.lgpdPrefix = e.getAttribute("prefix") || "") } } function setThemePreference(e) { window.LGPDCOOKIES && "function" == typeof LGPDCOOKIES.setCookie && (ensureLgpdPrefix(), LGPDCOOKIES.setCookie("modoEscuro", e ? "1" : "0")), "undefined" != typeof localStorage && localStorage.setItem("modoEscuro", e ? "1" : "0") } function getThemePreference() { return window.LGPDCOOKIES && "function" == typeof LGPDCOOKIES.getValueCookie ? LGPDCOOKIES.getValueCookie("modoEscuro") : "undefined" != typeof localStorage ? localStorage.getItem("modoEscuro") : null } function toggleDarkMode() { document.documentElement.classList.toggle("dark-mode"); const e = document.documentElement.classList.contains("dark-mode"); document.body.classList.toggle("dark-mode", e), applyColorScheme(e), document.querySelectorAll(".theme-toggle,.theme-toggle-mobile").forEach(t => { const o = t.querySelector("span"), n = e ? "Modo Claro" : "Modo Escuro"; o && (o.innerText = n), t.title = n }), setThemePreference(e); const t = document.getElementById("logo"); t && (t.classList.remove("animate-logo"), requestAnimationFrame(() => { t.classList.add("animate-logo") })), document.querySelectorAll(".fade-in").forEach(e => { e.classList.remove("fade-in"), requestAnimationFrame(() => { e.classList.add("fade-in") }) }) } function applyThemePreference() { const e = "1" === getThemePreference(); document.documentElement.classList.toggle("dark-mode", e), document.body.classList.toggle("dark-mode", e), applyColorScheme(e), document.querySelectorAll(".theme-toggle,.theme-toggle-mobile").forEach(t => { const o = t.querySelector("span"), n = e ? "Modo Claro" : "Modo Escuro"; o && (o.innerText = n), t.title = n }) } function toggleMenu() { const e = document.getElementById("mobileMenu"), t = document.querySelector(".btn__menu"), o = e.classList.toggle("active"); document.body.classList.toggle("no-scroll", o), t && (t.setAttribute("aria-expanded", o), t.classList.toggle("show", o)); const n = document.getElementById("lgpdShieldFooter"); n && (o ? (n.dataset.prevDisplay = n.style.display, n.style.display = "none") : (n.style.display = n.dataset.prevDisplay || "", delete n.dataset.prevDisplay, handleScroll())) } window.hideLoadingScreen = function () { const e = document.getElementById("loader"); e && (e.style.opacity = "0", setTimeout(() => e.remove(), 600)) }, setTimeout(() => { !window.indefiniteLoading && document.getElementById("loader") && window.hideLoadingScreen() }, 15e3), window.addEventListener("load", () => { if (document.getElementById("loader")) { const e = 1500, t = Math.max(0, e - performance.now()); setTimeout(() => { window.keepLoading || window.hideLoadingScreen() }, t), window.indefiniteLoading || setTimeout(() => { document.getElementById("loader") && window.hideLoadingScreen() }, 1e4) } }), document.addEventListener("DOMContentLoaded", () => { document.querySelectorAll('input[type="email"]').forEach(e => { e.addEventListener("input", () => { e.value = e.value.toLowerCase().replace(/\s+/g, "") }) }) }), document.addEventListener("DOMContentLoaded", () => { document.querySelectorAll("#termo,#termoMobile").forEach(e => { e.addEventListener("input", () => { e.value = e.value.toUpperCase() }) }) }), document.addEventListener("DOMContentLoaded", () => { document.querySelectorAll(".menu-icons-desktop a, .menu__block a").forEach(e => { e.href.replace(/\/$/, "") === location.href.replace(/\/$/, "") && e.setAttribute("aria-current", "page") }) }), document.addEventListener("DOMContentLoaded", () => { document.querySelectorAll('input[type="password"]').forEach(e => { const t = document.createElement("div"); t.className = "caps-warning mt-1 d-none", t.style.color = "#ec4115", t.style.fontSize = "0.875rem", t.textContent = "Caps Lock ativado", e.insertAdjacentElement("afterend", t); const o = e => { const o = e.getModifierState && e.getModifierState("CapsLock"); t.classList.toggle("d-none", !o) }; e.addEventListener("keydown", o), e.addEventListener("keyup", o), e.addEventListener("focus", o), e.addEventListener("blur", () => t.classList.add("d-none")) }) }), ["click", "touchstart"].forEach(e => { document.addEventListener(e, e => { const t = document.getElementById("mobileMenu"), o = document.querySelector(".btn__menu"), n = t ? t.querySelector(".menu__block") : null; if (t && t.classList.contains("active") && n && !n.contains(e.target) && (!o || !o.contains(e.target))) { t.classList.remove("active"), document.body.classList.remove("no-scroll"), o && (o.setAttribute("aria-expanded", !1), o.classList.remove("show")); const e = document.getElementById("lgpdShieldFooter"); e && (e.style.display = e.dataset.prevDisplay || "", delete e.dataset.prevDisplay, handleScroll()) } }, { passive: !0 }) }), applyThemePreference(), window.addEventListener("pageshow", applyThemePreference), window.addEventListener("load", () => { document.getElementById("loader") && !window.keepLoading && window.hideLoadingScreen(); const e = document.getElementById("logo"); e && e.classList.add("animate-logo"); const t = document.querySelector(".header"); t && t.classList.add("fade-in"); const o = document.getElementById("titulo-estrutural"); o && o.remove(); const n = document.getElementById("voltar-topo"); n && n.addEventListener("click", () => { window.scrollTo({ top: 0, behavior: "smooth" }) }) }); const header = document.querySelector(".header"); let cookieHideTimer; function handleScroll() { const e = window.scrollY; header && (e > 100 ? header.classList.add("scrolled") : header.classList.remove("scrolled")); const t = document.getElementById("voltar-topo"); t && (t.style.display = e > 100 ? "block" : "none"); const o = document.getElementById("lgpdShieldFooter"); if (o) { const t = window.LGPDCOOKIES && "" !== LGPDCOOKIES.cookiesConsent; o.style.display = t ? e > 100 ? "none" : "flex" : "none" } } function getGrupoUsuario() { const e = document.cookie.split(";").find(e => e.startsWith("auth_token="))?.split("=")[1]; if (!e) return null; const [t] = e.split("."); try { const e = JSON.parse(atob(t)); return Date.now() / 1e3 > e.exp ? null : e.grupo } catch { return null } } function fecharAlerta() { const e = document.getElementById("alerta-validacao"); e.classList.remove("alerta-visivel"), setTimeout(() => e.style.display = "none", 500) } function exibirAlerta(e) { const t = document.getElementById("alerta-validacao"); document.getElementById("alerta-texto").innerHTML = e, t.style.display = "block", setTimeout(() => { t.classList.add("alerta-visivel"); try { t.focus({ preventScroll: !0 }) } catch (e) { t.focus() } }, 10), setTimeout(() => fecharAlerta(), 3e4) } window.addEventListener("scroll", handleScroll, { passive: !0 }), document.addEventListener("DOMContentLoaded", () => { const e = document.getElementById("voltar-topo"); e && e.addEventListener("click", () => { window.scrollTo({ top: 0, behavior: "smooth" }) }), handleScroll() }), document.addEventListener("DOMContentLoaded", () => { const e = /^[A-Z]{2,4}\.[0-9]{8}$/, t = /^[0-9A-Z]{1,5}(\.[0-9A-Z]{1,5}){2,}$/; window.matchMedia("(max-width:768px)").matches; function o(o) { const n = o.value.trim(); if (n && !/^[A-Z0-9.]+$/i.test(n)) return o.classList.add("campo-invalido"), exibirAlerta("❌ Não use espaços ou caracteres especiais. Use apenas letras,números e pontos."), !1; const a = function (o) { return e.test(o) ? "codigo" : t.test(o) ? "referencia" : null }(n); return a ? (o.classList.remove("campo-invalido"), console.log(`🔍 Tipo reconhecido:${a.toUpperCase()}→ ${n}`), !0) : (o.classList.add("campo-invalido"), exibirAlerta("❌ Digite um Código de Produto válido (ex:QU.12345678) ou uma Referência válida (ex:1.Q.050.50.71B14.N.N.N)"), !1) } async function n(e) { const t = new URLSearchParams; t.append("valor", e); const o = window.csrfToken || document.cookie.split(";").map(e => e.trim()).find(e => e.startsWith("csrf_token="))?.split("=")[1]; o && t.append("csrf_token", o); try { const e = await fetch("/Paginas/Seletores/Produto/EstruturaProduto.php", { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: t.toString() }), o = await e.json(); o.erro ? exibirAlerta(`❌ ${o.erro}`) : o.url ? window.location.href = o.url : exibirAlerta("❌ Erro inesperado na busca.") } catch (e) { exibirAlerta(`❌ ${e.message}`) } } document.querySelectorAll(".search-container input").forEach(e => { e.addEventListener("keydown", t => { if ("Enter" === t.key) { t.preventDefault(); const a = e.value.trim(); o(e) && n(a) } }), e.addEventListener("click", e => e.stopPropagation()), e.addEventListener("input", e => { e.target.value = e.target.value.toUpperCase() }) }), document.querySelectorAll(".search-container").forEach(e => { const t = e.querySelector("input"), a = e.querySelector(".search-label"); e.classList.add("expanded"), a && (a.style.display = "none"), e.addEventListener("click", e => { e.stopPropagation(); const a = t.value.trim(); "" !== a ? o(t) && n(a) : t.focus() }), e.addEventListener("keydown", e => { if ("Enter" === e.key || " " === e.key) { e.preventDefault(); const a = t.value.trim(); "" !== a ? o(t) && n(a) : t.focus() } }), e.querySelector(".search-icon")?.addEventListener("click", a => { const i = t.value.trim(); e.classList.contains("expanded") && "" !== i && (a.stopPropagation(), o(t) && n(i)) }) }); const a = document.querySelector("#botaoGerarLink"), i = document.querySelector("#campoCodigoReferencia"); a && i && a.addEventListener("click", () => { const e = i.value.trim(); e ? n(e) : exibirAlerta("❌ Preencha um código ou referência antes de gerar o link.") }), document.querySelectorAll("#formBusca").forEach(e => { const t = e.querySelector("#termo"), a = e.querySelector("#btnBuscarDesktopFiltro"); if (!t) return; const i = () => { const e = t.value.trim(); e && o(t) && n(e) }; t.addEventListener("keydown", e => { "Enter" === e.key && (e.preventDefault(), i()) }), a && a.addEventListener("click", e => { e.preventDefault(), i() }) }) }), document.addEventListener("DOMContentLoaded", () => { window.matchMedia("(max-width:768px)").matches }); let autoScrollAtivo = !1; function smoothScrollParaCentro(e, t = 250) { const o = window.pageYOffset, n = e.getBoundingClientRect(), a = n.top + o - (window.innerHeight / 2 - n.height / 2) - o, i = performance.now(); requestAnimationFrame(function e(n) { const s = Math.min((n - i) / t, 1), d = s < .5 ? 2 * s * s : (4 - 2 * s) * s - 1; window.scrollTo(0, o + a * d), s < 1 && requestAnimationFrame(e) }) } function scrollParaCentro(e) { e && smoothScrollParaCentro(e, 250) } function scrollParaCabecalho(e) { const t = document.querySelector(".header"), o = t ? t.offsetHeight : 0, n = e.getBoundingClientRect().top + window.scrollY - o, a = document.documentElement.scrollHeight - window.innerHeight; window.scrollTo({ top: Math.min(n, a), behavior: "smooth" }) } function scrollParaProximoSelect(e) { const t = Array.from(document.querySelectorAll("select")), o = t.indexOf(e); if (-1 === o) return; window.scrollY; let n = !1; for (let e = o + 1; e < t.length; e++) { const o = t[e], a = window.getComputedStyle(o); if ("none" !== a.display && "hidden" !== a.visibility && null !== o.offsetParent && (!o.value || "" === o.value.trim())) { n = !0, smoothScrollParaCentro(o, 250), setTimeout(() => { try { o.focus({ preventScroll: !0 }) } catch (e) { o.focus() } }, 260); break } } n || (autoScrollAtivo = !1) } function toggleGrupoDetalhes(e) { const t = document.getElementById("detalhes" + e), o = document.getElementById("setaToggle" + e); t && (t.classList.toggle("expandido"), t.classList.toggle("recolhido"), o && o.classList.toggle("aberta"), t.classList.contains("expandido") && scrollParaCabecalho(t)) } document.addEventListener("DOMContentLoaded", () => { document.querySelectorAll("select").forEach(e => { e.dataset.inicialVazio = e.value && "" !== e.value.trim() ? "0" : "1", e.addEventListener("change", t => { if (!t.isTrusted) return; "1" === e.dataset.inicialVazio && e.value && !autoScrollAtivo && (autoScrollAtivo = !0), autoScrollAtivo && e.value && scrollParaProximoSelect(e) }) }) }), document.addEventListener("DOMContentLoaded", () => { document.querySelector(".gerar-produto")?.addEventListener("click", function (e) { e.preventDefault(), document.querySelectorAll("select").forEach(e => { e.classList.remove("campo-invalido") }); const t = Array.from(document.querySelectorAll("select")).filter(e => { const t = window.getComputedStyle(e); return "none" !== t.display && "hidden" !== t.visibility && null !== e.offsetParent }).filter(e => !e.value || "" === e.value.trim()); if (t.length > 0) { const e = t.map(e => { const t = document.querySelector(`label[for="${e.id}"]`); return t ? t.innerText.trim().replace(":", "") : e.name || e.id }); t.forEach((e, t) => { e.classList.add("campo-invalido"), e.addEventListener("change", function t() { e.value && "" !== e.value.trim() && (e.classList.remove("campo-invalido"), e.removeEventListener("change", t)) }), 0 === t && setTimeout(() => { try { e.focus({ preventScroll: !0 }) } catch (t) { e.focus() } }, 300) }); exibirAlerta("⚠️ Preencha os seguintes campos obrigatórios:<br><br>" + e.map(e => `• ${e}`).join("<br>")) } else { const e = new CustomEvent("todosCamposPreenchidos", { detail: { manual: !0 } }); document.dispatchEvent(e); const t = document.querySelector(".gerar-produto-wrapper"); t && scrollParaCentro(t) } }) }), !("serviceWorker" in navigator) || "https:" !== location.protocol && "localhost" !== location.hostname ? console.warn("Service worker requer HTTPS para funcionar corretamente.") : window.addEventListener("load", () => { navigator.serviceWorker.register("/Service-Worker.min.js?versao=versao.2.0.45", { updateViaCache: "none" }).catch(e => console.warn("Service worker registration failed:", e)) }), document.addEventListener("DOMContentLoaded", () => { [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(e => new bootstrap.Tooltip(e));[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).forEach(e => { null !== e.getAttribute("title") || e.getAttribute("data-bs-title") || e.setAttribute("data-bs-title", ""), new bootstrap.Popover(e) }) }), document.addEventListener("DOMContentLoaded", () => { const e = document.querySelectorAll("button.help-icon[data-help-text]"); e.forEach(t => { t.innerHTML.trim() || (t.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-question-circle text-orange" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/></svg>'), t.type = t.type || "button", t.dataset.bsToggle = "popover", t.dataset.bsTrigger || (t.dataset.bsTrigger = "manual"), t.dataset.bsContainer || (t.dataset.bsContainer = "body"), t.dataset.bsPlacement || (t.dataset.bsPlacement = "auto"), t.dataset.bsHtml || (t.dataset.bsHtml = "true"), t.dataset.helpText && !t.dataset.bsContent && (t.dataset.bsContent = t.dataset.helpText), t.dataset.helpTitle && !t.dataset.bsTitle && (t.dataset.bsTitle = t.dataset.helpTitle), t.dataset.helpClass && !t.dataset.bsCustomClass && (t.dataset.bsCustomClass = t.dataset.helpClass), t.dataset.bsBoundary = "viewport"; const o = new bootstrap.Popover(t); t.addEventListener("click", n => { n.preventDefault(), n.stopPropagation(), e.forEach(e => { if (e === t) return; const o = bootstrap.Popover.getInstance(e); o && o.hide() }), o.toggle() }) }), document.addEventListener("click", t => { t.target.closest(".popover") || t.target.closest("button.help-icon") || e.forEach(e => { const t = bootstrap.Popover.getInstance(e); t && t.hide() }) }), document.addEventListener("keydown", t => { if ("Escape" !== t.key) { if ("ArrowDown" === t.key) { const e = document.querySelector(".popover.show .popover-body"); e && (t.preventDefault(), e.scrollBy({ top: 20 })) } } else e.forEach(e => { const t = bootstrap.Popover.getInstance(e); t && t.hide() }) }), document.addEventListener("click", e => { const t = e.target.closest(".popover img"); if (!t) return; e.preventDefault(); const o = t.closest(".popover-body"); if (!o) return; const n = Array.from(o.querySelectorAll("img")).filter(e => e.naturalWidth), a = n.indexOf(t), i = n.map(e => ({ src: e.src, width: e.naturalWidth || 800, height: e.naturalHeight || 600 })), s = new PhotoSwipeLightbox({ dataSource: i, pswpModule: PhotoSwipe, initialZoomLevel: 1, secondaryZoomLevel: 2, wheelToZoom: !0, imageClickAction: "zoom" }); s.on("close", () => s.destroy()), s.init(), s.loadAndOpen(a) }) }), document.addEventListener("DOMContentLoaded", () => { const e = e => { const t = e.selectedOptions && e.selectedOptions[0]; e.title = t ? t.textContent.trim() : "" }; document.querySelectorAll("select").forEach(t => { e(t), t.addEventListener("change", () => e(t)) }); const t = e => { e.title = e.textContent.trim() }; document.querySelectorAll(".dropdown-button").forEach(e => { t(e), new MutationObserver(() => t(e)).observe(e, { childList: !0, characterData: !0, subtree: !0 }) }) }), window.onload = function () { LGPDCOOKIES.onReady() }, LGPDCOOKIES = { baseUrl: function () { const e = document.getElementById("lgpd-key"); var t = ""; return e && (t = e.getAttribute("urlBase") || ""), t.startsWith("http") && (t = ""), t }(), lgpdKey: "", lgpdPrefix: "", cookiesConsent: "", localContent: '<body>\n\n    <section id="lgpdCookieFooter">\n        <div class="lgpd__cookie__footer">\n            <div class="lgpd__cookie__footer__text">\n                <p class="title">\n                    Nós usamos cookies\n                </p>\n                    <p class="text">\n                        Este site utiliza cookies para lhe oferecer conteúdos personalizados e uma ótima experiência de navegação.\n                        Para maiores informações, acesse nossa <a href="https://configurador.redutoresibr.com.br/PoliticaPrivacidade" target="_blank">Política de Privacidade</a> ou acesse as configurações.\n                    </p>\n            </div>\n            <div class="lgpd__cookie__footer__buttons">\n                <button id="saveAllFooterLgpdCookies" class="btn__lgpd__cookie btn__lgpd__cookie100" aria-label="Aceitar todos">Aceitar todos</button>\n                <button id="openModalLgpdCookies" class=" btn__lgpd__cookie btn__lgpd__cookie100" aria-label="Configurar">Configurar</button>\n            </div>\n        </div>\n    </section>\n    <section id="lgpdShieldFooter" style="display: none;">\n        <a id="openModalLgpdShield" href="#" onclick="return false;">\n                    <div style="display: flex;align-items: center;height: 100%;padding: 0px 15px;">\n                                    <img loading="lazy" data-src="/Layout/Imagens/Logotipos/Cookies.svg" alt="Cookies" class="img-fluid" width="88" height="30" style="width: 88px;margin-right: 6px;" src="/Layout/Imagens/Logotipos/Cookies.svg">\n                                     <span>Cookies</span>\n            </div>\n        </a>\n    </section>\n\n    <section id="modalLgpdCookies">\n        <div id="modalLgpdCookiesContainer">\n            <div id="modalLgpdCookiesFechar">\n                <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">\n                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>\n                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>\n                </svg>\n            </div>\n                <div class="modal__lgpd__cookies__header">\n                    <span><a href="https://configurador.redutoresibr.com.br/PoliticaPrivacidade" target="_blank">Política de Privacidade</a></span>\n                </div>\n            <div class="modal__lgpd__cookies__button__tabs">\n                <button class="active" id="modalLgpdCookiesButtonTab1" aria-label="Configurações">Configurações</button>\n                <button id="modalLgpdCookiesButtonTab2" aria-label="Cookies">Cookies</button>\n                <button id="modalLgpdCookiesButtonTab3" hidden="" style="visibility:hidden" aria-label="Política de cookies">Política de cookies</button>\n            </div>\n            <div class="modal__lgpd__cookies__body">\n                <div id="modalLgpdCookiesConfig">\n                    <p class="info">Gostaríamos da sua permissão para utilizar os seus dados para os seguintes fins:</p>\n\n                    <div id="modalLgpdCookiesConfigText">\n                        <p class="title">Necessário</p>\n                        <div class="modal__lgpd__cookies__text__div">\n                            <p class="text">\n                                Estes cookies são necessários para o bom funcionamento do nosso site e não podem ser desligados no nosso sistema.\n                            </p>\n                            <button id="modalLgpdCheckboxNecessary" class="checkboxModalLgpdCookies on" role="checkbox" aria-checked="true"></button>\n                        </div>\n                    </div>\n\n                        <div id="modalLgpdCookiesConfigText">\n                            <p class="title">Desempenho</p>\n                            <div class="modal__lgpd__cookies__text__div">\n                                <p class="text">\n                                    Utilizamos estes cookies para fornecer informações estatísticas sobre o nosso site - eles são usados para medir e melhorar o desempenho.\n                                </p>\n                                <button id="modalLgpdCheckboxPerformance" class="checkboxModalLgpdCookies on" role="checkbox" aria-checked="true"></button>\n                            </div>\n                        </div>\n\n\n\n                </div>\n                <div id="modalLgpdCookiesCookie">\n                    <div class="modal__lgpd__cookies__tab__text">\n                                    <h5>Desempenho</h5>\n                                <div class="item">\n                                    <p class="title"><strong>Cookie - GA</strong></p>\n                                    <p>\n\n                                    </p>\n                                </div>\n\n                    </div>\n                </div>\n                <div id="modalLgpdCookiesPC">\n\n                </div>\n            </div>\n\n            <div class="modal__lgpd__cookies__button__footer">\n                <button id="saveAllModalLgpdCookies" class="btn btn-success btn__lgpd__cookie btn__lgpd__cookie50" aria-label="Aceitar todos">Aceitar todos</button>\n                <button id="saveConfigModalLgpdCookies" class="btn__lgpd__cookie btn__lgpd__cookie50" aria-label="Salvar configurações">Salvar configurações</button>\n            </div>\n\n        </div>\n    </section>\n</body><script type="text/javascript">\n        LGPDINJECT = {\n            onReady: function () {\n                LGPDINJECT.includeModalEvents();\n                LGPDINJECT.includeEvents();\n                LGPDINJECT.includeScripts();\n            },\n            includeModalEvents: function () {\n                var open = document.getElementById(\'openModalLgpdCookies\');\n                var openShield = document.getElementById(\'openModalLgpdShield\');\n                var close = document.getElementById(\'modalLgpdCookiesFechar\');\n                var fade = document.getElementById(\'modalLgpdCookies\');\n                open.onclick = function () { fade.style.display = "flex" };\n                openShield.onclick = function () { fade.style.display = "flex" };\n                close.onclick = function () { fade.style.display = "none" };\n\n                var performance = document.getElementById(\'modalLgpdCheckboxPerformance\');\n                if (performance)\n                    performance.onclick = function () { LGPDINJECT.modalLgpdCookiesConfigBtnCheckbox(this) };\n\n                var functional = document.getElementById(\'modalLgpdCheckboxFunctional\');\n                if (functional)\n                    functional.onclick = function () { LGPDINJECT.modalLgpdCookiesConfigBtnCheckbox(this) };\n\n                var advertising = document.getElementById(\'modalLgpdCheckboxAdvertising\');\n                if (advertising)\n                    advertising.onclick = function () { LGPDINJECT.modalLgpdCookiesConfigBtnCheckbox(this) };\n\n                var tab1 = document.getElementById(\'modalLgpdCookiesConfig\');\n                var tab2 = document.getElementById(\'modalLgpdCookiesCookie\');\n                var tab3 = document.getElementById(\'modalLgpdCookiesPC\');\n\n                document.getElementById("modalLgpdCookiesButtonTab1").onclick = function () {\n                    document.getElementById("modalLgpdCookiesButtonTab1").classList.add(\'active\');\n                    document.getElementById("modalLgpdCookiesButtonTab2").classList.remove(\'active\');\n                    document.getElementById("modalLgpdCookiesButtonTab3").classList.remove(\'active\');\n                    tab1.style.display = "block";\n                    tab3.style.display = "none";\n                    tab2.style.display = "none";\n                };\n\n                document.getElementById("modalLgpdCookiesButtonTab2").onclick = function () {\n                    document.getElementById("modalLgpdCookiesButtonTab1").classList.remove(\'active\');\n                    document.getElementById("modalLgpdCookiesButtonTab2").classList.add(\'active\');\n                    document.getElementById("modalLgpdCookiesButtonTab3").classList.remove(\'active\');\n                    tab1.style.display = "none";\n                    tab3.style.display = "none";\n                    tab2.style.display = "block";\n                };\n\n                document.getElementById("modalLgpdCookiesButtonTab3").onclick = function () {\n                    document.getElementById("modalLgpdCookiesButtonTab1").classList.remove(\'active\');\n                    document.getElementById("modalLgpdCookiesButtonTab2").classList.remove(\'active\');\n                    document.getElementById("modalLgpdCookiesButtonTab3").classList.add(\'active\');\n                    tab1.style.display = "none";\n                    tab2.style.display = "none";\n                    tab3.style.display = "block";\n                };\n            },\n            includeEvents: function () {\n                document.getElementById("saveAllFooterLgpdCookies").onclick = function () {\n                    LGPDCOOKIES.saveConsent(true);\n                };\n\n                document.getElementById("saveAllModalLgpdCookies").onclick = function () {\n                    LGPDCOOKIES.saveConsent(true);\n                };\n\n                document.getElementById("saveConfigModalLgpdCookies").onclick = function () {\n                    LGPDCOOKIES.saveConsent(false);\n                };\n            },\n            modalLgpdCookiesConfigBtnCheckbox: function (element) {\n                if (element.classList.contains(\'on\')) {\n                    element.classList.remove(\'on\');\n                } else {\n                    element.classList.add(\'on\');\n                }\n            },\n            includeScripts: function () {\n                            \n                var d = document;\n\n\n            },\n            addScript: function (head, attributes, text, callback) {\n                var s = document.createElement(\'script\');\n                for (var attr in attributes) {\n                    if (attributes[attr] != null) {\n                        s.setAttribute(attr, attributes[attr]);\n                    }\n                }\n\n                s.innerHTML = text;\n                s.onload = callback;\n                if (head) {\n                    document.head.appendChild(s);\n                } else {\n                    document.body.appendChild(s);\n                }\n            },\n        };\n\n        (function () {\n            LGPDINJECT.onReady();\n        })();\n<\/script>', onReady: function () { const e = document.getElementById("lgpd-key"); LGPDCOOKIES.lgpdPrefix = e ? e.getAttribute("prefix") : "", LGPDCOOKIES.cookiesConsent = LGPDCOOKIES.getValueCookie("lgpd-cookies-consent"), LGPDCOOKIES.writeContent(LGPDCOOKIES.localContent, "") }, sendCookies: function () { const e = []; if (document.cookie.length > 0) { document.cookie.split(/;\s*/).forEach(function (t) { const o = t.split("="); e.push({ Name: o[0], Type: "Cookie" }) }) } if ("undefined" != typeof Storage) { for (var t = 0; t < localStorage.length; t++)e.push({ Name: localStorage.key(t), Type: "LocalStorage" }); for (t = 0; t < sessionStorage.length; t++)e.push({ Name: sessionStorage.key(t), Type: "SessionStorage" }) } if (e.length > 0) { const t = { Cookies: e, Location: window.location.origin }; LGPDCOOKIES.sendPost("Cookie/SendCookies", JSON.stringify(t), null) } }, getConfig: function (e) { const t = { LastUpdateDate: "" == e ? null : e, Location: window.location.origin }; LGPDCOOKIES.sendPost("Config/ObterConfig", JSON.stringify(t), function (e) { const t = JSON.parse(e); t.Error || (t.GetDataLocally && "undefined" != typeof Storage ? (console.log("search locally"), LGPDCOOKIES.writeContent(decodeURIComponent(localStorage.getItem(LGPDCOOKIES.lgpdPrefix + "-lgpd-cookies-content")), t.LastUpdateDate)) : (console.log("search server"), LGPDCOOKIES.getWriteContent(t.LastUpdateDate)), t.Sweep && setTimeout(function () { LGPDCOOKIES.sendCookies() }, 1e4)) }) }, getWriteContent: function (e) { var t = "" == LGPDCOOKIES.cookiesConsent ? null : JSON.parse(decodeURIComponent(LGPDCOOKIES.cookiesConsent)); const o = { Necessary: null == t || t.Necessary, Functional: null != t && t.Functional, Advertising: null != t && t.Advertising, Performance: null != t && t.Performance, Location: window.location.origin }; LGPDCOOKIES.sendPost("Content/Content", JSON.stringify(o), function (t) { "undefined" != typeof Storage && localStorage.setItem(LGPDCOOKIES.lgpdPrefix + "-lgpd-cookies-content", encodeURIComponent(t)), LGPDCOOKIES.writeContent(t, e) }) }, writeContent: function (e, t) { var o = document, n = o.createElement("div"); n.setAttribute("id", "lgpdDivFooter"), n.innerHTML = /<body.*?>([\s\S]*)<\/body>/.exec(e)[1], o.body.appendChild(n); var a = o.createElement("script"); a.type = "text/javascript", a.innerHTML = /<script.*?>([\s\S]*)<\/script>/.exec(e)[1], o.body.appendChild(a), window.requestAnimationFrame(function () { LGPDCOOKIES.setCookie("lgpd-cookies-last-update-date", t), LGPDCOOKIES.openFooter(), LGPDCOOKIES.applyConsentState(), handleScroll() }) }, getValueCookie: function (e) { for (var t = (e = LGPDCOOKIES.lgpdPrefix + "-" + e) + "=", o = decodeURIComponent(document.cookie).split(";"), n = 0; n < o.length; n++) { for (var a = o[n]; " " == a.charAt(0);)a = a.substring(1); if (0 == a.indexOf(t)) return a.substring(t.length, a.length) } return "" }, setCookie: function (e, t) { e = LGPDCOOKIES.lgpdPrefix + "-" + e; var o = new Date; o.setTime(o.getTime() + 31536e6); var n = "expires=" + o.toUTCString(); document.cookie = e + "=" + t + ";" + n + ";path=/" }, sendPost: function (e, t, o) { var n, a = LGPDCOOKIES.baseUrl + e; "XMLHttpRequest" in window && (n = new XMLHttpRequest), "ActiveXObject" in window && (n = new ActiveXObject("Msxml2.XMLHTTP")), n.open("POST", a, !0), n.setRequestHeader("Authorization", LGPDCOOKIES.lgpdKey), n.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), n.onreadystatechange = function () { 4 == n.readyState && null != o && o(n.responseText) }, n.send(t) }, openFooter: function () { var e = document.getElementById("lgpdCookieFooter"), t = document.getElementById("lgpdShieldFooter"); "" == LGPDCOOKIES.cookiesConsent ? (e && (e.style.display = "flex"), t && (t.style.display = "none")) : (e && (e.style.display = "none"), t && t.style.disp) }, applyConsentState: function () { if ("" != LGPDCOOKIES.cookiesConsent) { var e = {}; try { e = JSON.parse(decodeURIComponent(LGPDCOOKIES.cookiesConsent)) } catch (e) { return } var t = { Functional: "modalLgpdCheckboxFunctional", Advertising: "modalLgpdCheckboxAdvertising", Performance: "modalLgpdCheckboxPerformance" }; for (var o in t) { var n = document.getElementById(t[o]); n && (e[o] ? (n.classList.add("on"), n.setAttribute("aria-checked", "true")) : (n.classList.remove("on"), n.setAttribute("aria-checked", "false"))) } } }, saveConsent: function (e) { var t = {}; t = e ? { Necessary: !0, Functional: !0, Advertising: !0, Performance: !0, Location: window.location.origin } : { Necessary: !0, Functional: !!document.getElementById("modalLgpdCheckboxFunctional") && document.getElementById("modalLgpdCheckboxFunctional").classList.contains("on"), Advertising: !!document.getElementById("modalLgpdCheckboxAdvertising") && document.getElementById("modalLgpdCheckboxAdvertising").classList.contains("on"), Performance: !!document.getElementById("modalLgpdCheckboxPerformance") && document.getElementById("modalLgpdCheckboxPerformance").classList.contains("on"), Location: window.location.origin }, LGPDCOOKIES.setCookie("lgpd-cookies-consent", encodeURIComponent(JSON.stringify(t))), LGPDCOOKIES.cookiesConsent = LGPDCOOKIES.getValueCookie("lgpd-cookies-consent"), LGPDCOOKIES.setCookie("lgpd-cookies-last-update-date", ""), location.reload() } }, window.addEventListener("error", e => { try { fetch("/LogsErros/RegistrarErroJS.php", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ msg: e.message, url: e.filename, linha: e.lineno, coluna: e.colno, stack: e.error ? e.error.stack : "" }) }), window.gtag && gtag("event", "js_error", { event_category: "Erro", event_label: e.message || "" }) } catch { } }), window.addEventListener("unhandledrejection", e => { try { const t = e.reason || {}; fetch("/LogsErros/RegistrarErroJS.php", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ msg: t.message || String(t), stack: t.stack || "" }) }), window.gtag && gtag("event", "js_error", { event_category: "Erro", event_label: t.message || String(t) }) } catch { } });