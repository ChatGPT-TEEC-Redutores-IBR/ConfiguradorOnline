if(void 0===window.csrfSetup){window.csrfSetup=!0,window.csrfToken=null;let e=fetch("/GetCSRF.php").then(e=>e.json()).then(e=>{window.csrfToken=e.token}).catch(()=>{});const n=window.fetch.bind(window);window.fetch=async function(o,w={}){if(w&&"POST"===(w.method||"GET").toUpperCase()){if(w.headers=w.headers||{},!window.csrfToken)try{await e}catch{}window.csrfToken&&(w.headers instanceof Headers?w.headers.append("X-CSRF-Token",window.csrfToken):w.headers["X-CSRF-Token"]=window.csrfToken)}return n(o,w)}}